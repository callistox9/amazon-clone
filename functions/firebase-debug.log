[debug] [2024-01-30T10:59:56.204Z] ----------------------------------------------------------------------
[debug] [2024-01-30T10:59:56.209Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Vishal\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2024-01-30T10:59:56.209Z] CLI Version:   13.1.0
[debug] [2024-01-30T10:59:56.209Z] Platform:      win32
[debug] [2024-01-30T10:59:56.210Z] Node Version:  v20.11.0
[debug] [2024-01-30T10:59:56.210Z] Time:          Tue Jan 30 2024 16:29:56 GMT+0530 (India Standard Time)
[debug] [2024-01-30T10:59:56.210Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-01-30T10:59:56.448Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-01-30T10:59:56.449Z] > authorizing via signed-in user (1njust1c104@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2024-01-30T10:59:56.474Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-01-30T10:59:56.474Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-01-30T10:59:56.475Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-01-30T10:59:56.496Z] [hub] writing locator at C:\Users\Vishal\AppData\Local\Temp\hub-project-94a17.json
[debug] [2024-01-30T10:59:56.533Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-01-30T10:59:56.533Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-01-30T10:59:56.533Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[debug] [2024-01-30T10:59:56.539Z] defaultcredentials: writing to file C:\Users\Vishal\AppData\Roaming\firebase\1njust1c104_gmail_com_application_default_credentials.json
[debug] [2024-01-30T10:59:56.545Z] Setting GAC to C:\Users\Vishal\AppData\Roaming\firebase\1njust1c104_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Vishal\\AppData\\Roaming\\firebase\\1njust1c104_gmail_com_application_default_credentials.json"}}
[debug] [2024-01-30T10:59:56.549Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/adminSdkConfig [none]
[debug] [2024-01-30T10:59:58.353Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/adminSdkConfig 200
[debug] [2024-01-30T10:59:58.353Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/adminSdkConfig {"projectId":"project-94a17","storageBucket":"project-94a17.appspot.com"}
[debug] [2024-01-30T10:59:58.374Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/project-94a17/sites 
[debug] [2024-01-30T11:00:00.067Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/project-94a17/sites 200
[debug] [2024-01-30T11:00:00.067Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/project-94a17/sites {"sites":[{"name":"projects/project-94a17/sites/project-94a17","defaultUrl":"https://project-94a17.web.app","appId":"1:241430815599:web:61354b9163d014a9a3be9a","type":"DEFAULT_SITE"}]}
[debug] [2024-01-30T11:00:00.068Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/webApps/1:241430815599:web:61354b9163d014a9a3be9a/config [none]
[debug] [2024-01-30T11:00:01.342Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/webApps/1:241430815599:web:61354b9163d014a9a3be9a/config 200
[debug] [2024-01-30T11:00:01.343Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17/webApps/1:241430815599:web:61354b9163d014a9a3be9a/config {"projectId":"project-94a17","appId":"1:241430815599:web:61354b9163d014a9a3be9a","storageBucket":"project-94a17.appspot.com","apiKey":"AIzaSyA56GI1aFZt_VMN5onZtUwYTzwsw2A6m5Y","authDomain":"project-94a17.firebaseapp.com","messagingSenderId":"241430815599","measurementId":"G-1G5C2Z1VWX"}
[debug] [2024-01-30T11:00:01.363Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17 [none]
[debug] [2024-01-30T11:00:01.745Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17 200
[debug] [2024-01-30T11:00:01.745Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/project-94a17 {"projectId":"project-94a17","projectNumber":"241430815599","displayName":"amazon-project","name":"projects/project-94a17","resources":{"hostingSite":"project-94a17"},"state":"ACTIVE","etag":"1_0720f951-7a9d-4c23-8c6c-383ba8612f6e"}
[info] i  hosting[project-94a17]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[project-94a17]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.11.7.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.11.7.zip..."}}
[debug] [2024-01-30T11:00:01.797Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip 
[debug] [2024-01-30T11:00:02.361Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip 200
[debug] [2024-01-30T11:00:02.362Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip [stream]
[debug] [2024-01-30T11:00:16.214Z] Data is 3064105
[debug] [2024-01-30T11:00:16.215Z] [unzip] Entry: client/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.215Z] [unzip] Processing entry: client\
[debug] [2024-01-30T11:00:16.215Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\
[debug] [2024-01-30T11:00:16.216Z] [unzip] Entry: client/favicon.ico (compressed_size=2497 bytes, uncompressed_size=7406 bytes)
[debug] [2024-01-30T11:00:16.217Z] [unzip] Processing entry: client\favicon.ico
[debug] [2024-01-30T11:00:16.217Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.218Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\favicon.ico
[debug] [2024-01-30T11:00:16.228Z] [unzip] Entry: client/apple-touch-icon.png (compressed_size=7231 bytes, uncompressed_size=7367 bytes)
[debug] [2024-01-30T11:00:16.228Z] [unzip] Processing entry: client\apple-touch-icon.png
[debug] [2024-01-30T11:00:16.229Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.229Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\apple-touch-icon.png
[debug] [2024-01-30T11:00:16.231Z] [unzip] Entry: client/android-chrome-512x512.png (compressed_size=16987 bytes, uncompressed_size=18186 bytes)
[debug] [2024-01-30T11:00:16.231Z] [unzip] Processing entry: client\android-chrome-512x512.png
[debug] [2024-01-30T11:00:16.232Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.232Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\android-chrome-512x512.png
[debug] [2024-01-30T11:00:16.235Z] [unzip] Entry: client/assets/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.236Z] [unzip] Processing entry: client\assets\
[debug] [2024-01-30T11:00:16.236Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\
[debug] [2024-01-30T11:00:16.237Z] [unzip] Entry: client/assets/extensions/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.238Z] [unzip] Processing entry: client\assets\extensions\
[debug] [2024-01-30T11:00:16.239Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\extensions\
[debug] [2024-01-30T11:00:16.239Z] [unzip] Entry: client/assets/extensions/default-extension.png (compressed_size=1646 bytes, uncompressed_size=1657 bytes)
[debug] [2024-01-30T11:00:16.240Z] [unzip] Processing entry: client\assets\extensions\default-extension.png
[debug] [2024-01-30T11:00:16.240Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\extensions
[debug] [2024-01-30T11:00:16.240Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\extensions\default-extension.png
[debug] [2024-01-30T11:00:16.242Z] [unzip] Entry: client/assets/index.58ca09f7.css (compressed_size=37601 bytes, uncompressed_size=321252 bytes)
[debug] [2024-01-30T11:00:16.243Z] [unzip] Processing entry: client\assets\index.58ca09f7.css
[debug] [2024-01-30T11:00:16.243Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets
[debug] [2024-01-30T11:00:16.243Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\index.58ca09f7.css
[debug] [2024-01-30T11:00:16.248Z] [unzip] Entry: client/assets/index.c2583d42.js (compressed_size=526232 bytes, uncompressed_size=1860152 bytes)
[debug] [2024-01-30T11:00:16.249Z] [unzip] Processing entry: client\assets\index.c2583d42.js
[debug] [2024-01-30T11:00:16.249Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets
[debug] [2024-01-30T11:00:16.249Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\index.c2583d42.js
[debug] [2024-01-30T11:00:16.275Z] [unzip] Entry: client/assets/provider-icons/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.275Z] [unzip] Processing entry: client\assets\provider-icons\
[debug] [2024-01-30T11:00:16.276Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\
[debug] [2024-01-30T11:00:16.276Z] [unzip] Entry: client/assets/provider-icons/auth_service_oidc.svg (compressed_size=414 bytes, uncompressed_size=858 bytes)
[debug] [2024-01-30T11:00:16.277Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_oidc.svg
[debug] [2024-01-30T11:00:16.277Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.277Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_oidc.svg
[debug] [2024-01-30T11:00:16.280Z] [unzip] Entry: client/assets/provider-icons/auth_service_yahoo.svg (compressed_size=577 bytes, uncompressed_size=1182 bytes)
[debug] [2024-01-30T11:00:16.280Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_yahoo.svg
[debug] [2024-01-30T11:00:16.280Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.280Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_yahoo.svg
[debug] [2024-01-30T11:00:16.283Z] [unzip] Entry: client/assets/provider-icons/auth_service_phone.svg (compressed_size=261 bytes, uncompressed_size=414 bytes)
[debug] [2024-01-30T11:00:16.283Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_phone.svg
[debug] [2024-01-30T11:00:16.283Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.283Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_phone.svg
[debug] [2024-01-30T11:00:16.287Z] [unzip] Entry: client/assets/provider-icons/auth_service_saml.svg (compressed_size=575 bytes, uncompressed_size=1226 bytes)
[debug] [2024-01-30T11:00:16.287Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_saml.svg
[debug] [2024-01-30T11:00:16.287Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.289Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_saml.svg
[debug] [2024-01-30T11:00:16.291Z] [unzip] Entry: client/assets/provider-icons/auth_service_mslive.svg (compressed_size=203 bytes, uncompressed_size=378 bytes)
[debug] [2024-01-30T11:00:16.291Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_mslive.svg
[debug] [2024-01-30T11:00:16.291Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.293Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_mslive.svg
[debug] [2024-01-30T11:00:16.296Z] [unzip] Entry: client/assets/provider-icons/auth_service_facebook.svg (compressed_size=289 bytes, uncompressed_size=457 bytes)
[debug] [2024-01-30T11:00:16.296Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_facebook.svg
[debug] [2024-01-30T11:00:16.296Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.297Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_facebook.svg
[debug] [2024-01-30T11:00:16.299Z] [unzip] Entry: client/assets/provider-icons/auth_service_play_games.svg (compressed_size=565 bytes, uncompressed_size=1173 bytes)
[debug] [2024-01-30T11:00:16.299Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_play_games.svg
[debug] [2024-01-30T11:00:16.299Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.300Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_play_games.svg
[debug] [2024-01-30T11:00:16.303Z] [unzip] Entry: client/assets/provider-icons/auth_service_github.svg (compressed_size=466 bytes, uncompressed_size=838 bytes)
[debug] [2024-01-30T11:00:16.303Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_github.svg
[debug] [2024-01-30T11:00:16.303Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.303Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_github.svg
[debug] [2024-01-30T11:00:16.305Z] [unzip] Entry: client/assets/provider-icons/auth_service_apple.svg (compressed_size=230 bytes, uncompressed_size=334 bytes)
[debug] [2024-01-30T11:00:16.307Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_apple.svg
[debug] [2024-01-30T11:00:16.307Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.307Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_apple.svg
[debug] [2024-01-30T11:00:16.309Z] [unzip] Entry: client/assets/provider-icons/auth_service_google.svg (compressed_size=409 bytes, uncompressed_size=720 bytes)
[debug] [2024-01-30T11:00:16.310Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_google.svg
[debug] [2024-01-30T11:00:16.310Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.312Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_google.svg
[debug] [2024-01-30T11:00:16.314Z] [unzip] Entry: client/assets/provider-icons/auth_service_email.svg (compressed_size=228 bytes, uncompressed_size=326 bytes)
[debug] [2024-01-30T11:00:16.314Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_email.svg
[debug] [2024-01-30T11:00:16.314Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.315Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_email.svg
[debug] [2024-01-30T11:00:16.317Z] [unzip] Entry: client/assets/provider-icons/auth_service_twitter.svg (compressed_size=444 bytes, uncompressed_size=751 bytes)
[debug] [2024-01-30T11:00:16.317Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_twitter.svg
[debug] [2024-01-30T11:00:16.317Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.319Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_twitter.svg
[debug] [2024-01-30T11:00:16.322Z] [unzip] Entry: client/assets/provider-icons/auth_service_game_center.svg (compressed_size=991 bytes, uncompressed_size=3921 bytes)
[debug] [2024-01-30T11:00:16.322Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_game_center.svg
[debug] [2024-01-30T11:00:16.322Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons
[debug] [2024-01-30T11:00:16.323Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\provider-icons\auth_service_game_center.svg
[debug] [2024-01-30T11:00:16.327Z] [unzip] Entry: client/assets/index.c2583d42.js.map (compressed_size=1778557 bytes, uncompressed_size=7961927 bytes)
[debug] [2024-01-30T11:00:16.327Z] [unzip] Processing entry: client\assets\index.c2583d42.js.map
[debug] [2024-01-30T11:00:16.327Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets
[debug] [2024-01-30T11:00:16.328Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\index.c2583d42.js.map
[debug] [2024-01-30T11:00:16.414Z] [unzip] Entry: client/assets/img/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.414Z] [unzip] Processing entry: client\assets\img\
[debug] [2024-01-30T11:00:16.414Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\img\
[debug] [2024-01-30T11:00:16.415Z] [unzip] Entry: client/assets/img/database.png (compressed_size=29449 bytes, uncompressed_size=29988 bytes)
[debug] [2024-01-30T11:00:16.415Z] [unzip] Processing entry: client\assets\img\database.png
[debug] [2024-01-30T11:00:16.415Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\img
[debug] [2024-01-30T11:00:16.416Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\assets\img\database.png
[debug] [2024-01-30T11:00:16.419Z] [unzip] Entry: client/safari-pinned-tab.svg (compressed_size=838 bytes, uncompressed_size=1504 bytes)
[debug] [2024-01-30T11:00:16.420Z] [unzip] Processing entry: client\safari-pinned-tab.svg
[debug] [2024-01-30T11:00:16.420Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.420Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\safari-pinned-tab.svg
[debug] [2024-01-30T11:00:16.423Z] [unzip] Entry: client/mstile-150x150.png (compressed_size=5406 bytes, uncompressed_size=5723 bytes)
[debug] [2024-01-30T11:00:16.423Z] [unzip] Processing entry: client\mstile-150x150.png
[debug] [2024-01-30T11:00:16.423Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.424Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\mstile-150x150.png
[debug] [2024-01-30T11:00:16.426Z] [unzip] Entry: client/browserconfig.xml (compressed_size=491 bytes, uncompressed_size=822 bytes)
[debug] [2024-01-30T11:00:16.426Z] [unzip] Processing entry: client\browserconfig.xml
[debug] [2024-01-30T11:00:16.426Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.428Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\browserconfig.xml
[debug] [2024-01-30T11:00:16.435Z] [unzip] Entry: client/robots.txt (compressed_size=26 bytes, uncompressed_size=26 bytes)
[debug] [2024-01-30T11:00:16.436Z] [unzip] Processing entry: client\robots.txt
[debug] [2024-01-30T11:00:16.436Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.437Z] [unzip] Writing file: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\robots.txt
[debug] [2024-01-30T11:00:16.443Z] [unzip] Entry: client/index.html (compressed_size=1363 bytes, uncompressed_size=3064 bytes)
[debug] [2024-01-30T11:00:16.443Z] [unzip] Processing entry: client\index.html
[debug] [2024-01-30T11:00:16.443Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.444Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\index.html
[debug] [2024-01-30T11:00:16.446Z] [unzip] Entry: client/favicon-16x16.png (compressed_size=757 bytes, uncompressed_size=777 bytes)
[debug] [2024-01-30T11:00:16.446Z] [unzip] Processing entry: client\favicon-16x16.png
[debug] [2024-01-30T11:00:16.446Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.447Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\favicon-16x16.png
[debug] [2024-01-30T11:00:16.449Z] [unzip] Entry: client/manifest.json (compressed_size=246 bytes, uncompressed_size=551 bytes)
[debug] [2024-01-30T11:00:16.449Z] [unzip] Processing entry: client\manifest.json
[debug] [2024-01-30T11:00:16.449Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.450Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\manifest.json
[debug] [2024-01-30T11:00:16.453Z] [unzip] Entry: client/favicon-32x32.png (compressed_size=1175 bytes, uncompressed_size=1175 bytes)
[debug] [2024-01-30T11:00:16.453Z] [unzip] Processing entry: client\favicon-32x32.png
[debug] [2024-01-30T11:00:16.453Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.454Z] [unzip] Writing file: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\favicon-32x32.png
[debug] [2024-01-30T11:00:16.456Z] [unzip] Entry: client/android-chrome-192x192.png (compressed_size=7602 bytes, uncompressed_size=7834 bytes)
[debug] [2024-01-30T11:00:16.456Z] [unzip] Processing entry: client\android-chrome-192x192.png
[debug] [2024-01-30T11:00:16.456Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client
[debug] [2024-01-30T11:00:16.456Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\client\android-chrome-192x192.png
[debug] [2024-01-30T11:00:16.458Z] [unzip] Entry: server/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-01-30T11:00:16.459Z] [unzip] Processing entry: server\
[debug] [2024-01-30T11:00:16.459Z] [unzip] mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\server\
[debug] [2024-01-30T11:00:16.460Z] [unzip] Entry: server/server.js (compressed_size=343746 bytes, uncompressed_size=1346374 bytes)
[debug] [2024-01-30T11:00:16.460Z] [unzip] Processing entry: server\server.js
[debug] [2024-01-30T11:00:16.460Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\server
[debug] [2024-01-30T11:00:16.461Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\server\server.js
[debug] [2024-01-30T11:00:16.476Z] [unzip] Entry: server/server.js.map (compressed_size=289157 bytes, uncompressed_size=1325651 bytes)
[debug] [2024-01-30T11:00:16.476Z] [unzip] Processing entry: server\server.js.map
[debug] [2024-01-30T11:00:16.476Z] [unzip] else mkdir: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\server
[debug] [2024-01-30T11:00:16.477Z] [unzip] deflating: C:\Users\Vishal\.cache\firebase\emulators\ui-v1.11.7\server\server.js.map
[debug] [2024-01-30T11:00:16.493Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-01-30T11:00:16.493Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-01-30T11:00:16.493Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Vishal\\.cache\\firebase\\emulators\\ui-v1.11.7\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Vishal\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.7\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-01-30T11:00:16.815Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-01-30T11:00:16.816Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "C:\Users\Vishal\Desktop\Project\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2024-01-30T11:00:17.059Z] Validating nodejs source
[debug] [2024-01-30T11:00:21.157Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:00:21.158Z] Building nodejs source
[debug] [2024-01-30T11:00:21.158Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:00:21.162Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:00:21.187Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8924

[error] ReferenceError: functions is not defined
    at Object.<anonymous> (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:30:15)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-01-30T11:00:22.537Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: functions is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-01-30T11:13:08.003Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:13:09.012Z] Validating nodejs source
[debug] [2024-01-30T11:13:15.583Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:13:15.584Z] Building nodejs source
[debug] [2024-01-30T11:13:15.584Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:13:15.587Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:13:15.610Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8687

[error] ReferenceError: https is not defined
    at Object.<anonymous> (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:30:15)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-01-30T11:13:16.727Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: https is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-01-30T11:14:20.998Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:14:22.013Z] Validating nodejs source
[debug] [2024-01-30T11:14:26.120Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:14:26.120Z] Building nodejs source
[debug] [2024-01-30T11:14:26.120Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:14:26.123Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:14:26.145Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8800

[debug] [2024-01-30T11:14:27.179Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/project-94a17/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/project-94a17/us-central1/api)."}}
[debug] [2024-01-30T11:15:28.103Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:15:29.105Z] Validating nodejs source
[debug] [2024-01-30T11:15:33.048Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:15:33.048Z] Building nodejs source
[debug] [2024-01-30T11:15:33.048Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:15:33.052Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:15:33.077Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:15:33.109Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8961

[debug] [2024-01-30T11:15:34.123Z] Validating nodejs source
[debug] [2024-01-30T11:15:37.546Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:15:37.546Z] Building nodejs source
[debug] [2024-01-30T11:15:37.547Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:15:37.549Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:15:37.570Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:15:37.581Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:15:37.618Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8018

[debug] [2024-01-30T11:15:38.636Z] Validating nodejs source
[debug] [2024-01-30T11:15:42.099Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:15:42.099Z] Building nodejs source
[debug] [2024-01-30T11:15:42.099Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:15:42.102Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:15:42.124Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:15:42.136Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8954

[debug] [2024-01-30T11:15:43.278Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:20:57.362Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api-2024-01-30T11:20:57.362Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:20:57.363Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api-2024-01-30T11:20:57.362Z"],"workRunningCount":1}
[debug] [2024-01-30T11:20:57.364Z] Accepted request GET /project-94a17/us-central1/api --> us-central1-api
[debug] [2024-01-30T11:20:57.369Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:20:57.370Z] [functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/"}}
[debug] [2024-01-30T11:20:57.386Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:20:57.388Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:21:00.676Z] [runtime-status] [10176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:00.679Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:00.680Z] [runtime-status] [10176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:21:00.681Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:01.302Z] [runtime-status] [10176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:21:01.303Z] [runtime-status] [10176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:21:01.304Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:01.306Z] [runtime-status] [10176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:01.312Z] [runtime-status] [10176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:21:01.313Z] [runtime-status] [10176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:21:01.810Z] [runtime-status] [10176] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:21:01.814Z] [runtime-status] [10176] Listening to port: \\?\pipe\fire_emu_db83530f1c6c7122 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10176] Listening to port: \\\\?\\pipe\\fire_emu_db83530f1c6c7122"}}
[debug] [2024-01-30T11:21:01.822Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: IDLE"}}
[debug] [2024-01-30T11:21:01.823Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:21:01.824Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: BUSY"}}
[debug] [2024-01-30T11:21:01.840Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 16.3619ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 16.3619ms"}}
[debug] [2024-01-30T11:21:01.842Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: IDLE"}}
[debug] [2024-01-30T11:21:01.842Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-01-30T11:21:01.843Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-01-30T11:21:01.843Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  ReferenceError: res is not defined {"user":"ReferenceError: res is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: res is not defined"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:27:53 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:27:53","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:27:53"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:110:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:110:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:110:7)"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
[debug] [2024-01-30T11:21:51.049Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:21:52.075Z] Validating nodejs source
[debug] [2024-01-30T11:21:56.628Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:21:56.628Z] Building nodejs source
[debug] [2024-01-30T11:21:56.629Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:21:56.635Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:21:56.662Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:21:56.673Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8403

[debug] [2024-01-30T11:21:57.676Z] Validating nodejs source
[debug] [2024-01-30T11:22:00.413Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:22:00.414Z] Building nodejs source
[debug] [2024-01-30T11:22:00.414Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:22:00.416Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:22:00.437Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:22:00.450Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8964

[debug] [2024-01-30T11:22:01.456Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:22:05.528Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2024-01-30T11:22:05.528Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: FINISHING"}}
[debug] [2024-01-30T11:22:05.541Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: exited"}}
[debug] [2024-01-30T11:22:05.541Z] [worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b1b8cb39-c7c8-40eb-9b28-f4a550f17fcd]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:22:06.722Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api-2024-01-30T11:22:06.722Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:22:06.722Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api-2024-01-30T11:22:06.722Z"],"workRunningCount":1}
[debug] [2024-01-30T11:22:06.722Z] Accepted request GET /project-94a17/us-central1/api --> us-central1-api
[debug] [2024-01-30T11:22:06.727Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:22:06.728Z] [functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/"}}
[debug] [2024-01-30T11:22:06.728Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T11:22:06.736Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:22:06.736Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:22:09.007Z] [runtime-status] [7448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.011Z] [runtime-status] [7448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.012Z] [runtime-status] [7448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:22:09.014Z] [runtime-status] [7448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.698Z] [runtime-status] [7448] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:22:09.698Z] [runtime-status] [7448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:22:09.699Z] [runtime-status] [7448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.701Z] [runtime-status] [7448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.705Z] [runtime-status] [7448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:22:09.705Z] [runtime-status] [7448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:22:10.185Z] [runtime-status] [7448] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:22:10.186Z] [runtime-status] [7448] Listening to port: \\?\pipe\fire_emu_f2709e0b10952f42 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7448] Listening to port: \\\\?\\pipe\\fire_emu_f2709e0b10952f42"}}
[debug] [2024-01-30T11:22:10.295Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: IDLE"}}
[debug] [2024-01-30T11:22:10.296Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:22:10.298Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: BUSY"}}
[debug] [2024-01-30T11:22:10.311Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 13.8894ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 13.8894ms"}}
[debug] [2024-01-30T11:22:10.313Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: IDLE"}}
[debug] [2024-01-30T11:22:10.314Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-01-30T11:22:10.314Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-01-30T11:22:10.314Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:22:10.428Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2024-01-30T11:24:42.760Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:24:43.770Z] Validating nodejs source
[debug] [2024-01-30T11:24:48.900Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:24:48.900Z] Building nodejs source
[debug] [2024-01-30T11:24:48.901Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:24:48.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:24:48.927Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:24:48.939Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8711

[debug] [2024-01-30T11:24:49.944Z] Validating nodejs source
[debug] [2024-01-30T11:24:54.403Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:24:54.404Z] Building nodejs source
[debug] [2024-01-30T11:24:54.404Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:24:54.406Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:24:54.427Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:24:54.436Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8536

[debug] [2024-01-30T11:24:55.620Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:24:59.497Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2024-01-30T11:24:59.497Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: FINISHING"}}
[debug] [2024-01-30T11:24:59.524Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: exited"}}
[debug] [2024-01-30T11:24:59.525Z] [worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2e80cec4-ef85-47a3-84ee-aa5aa8172959]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:25:37.942Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:25:38.960Z] Validating nodejs source
[debug] [2024-01-30T11:25:43.258Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:25:43.258Z] Building nodejs source
[debug] [2024-01-30T11:25:43.258Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:25:43.260Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:25:43.280Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8979

[debug] [2024-01-30T11:25:44.405Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:26:13.902Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:26:14.911Z] Validating nodejs source
[debug] [2024-01-30T11:26:20.729Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:20.729Z] Building nodejs source
[debug] [2024-01-30T11:26:20.729Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:20.741Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:20.765Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:26:20.783Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:26:21.788Z] Validating nodejs source
[debug] [2024-01-30T11:26:26.186Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:26.186Z] Building nodejs source
[debug] [2024-01-30T11:26:26.187Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:26.197Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:26.220Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8752

[debug] [2024-01-30T11:26:26.241Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:26:27.174Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8245

[debug] [2024-01-30T11:26:27.697Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:26:28.183Z] Validating nodejs source
[debug] [2024-01-30T11:26:33.287Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:33.288Z] Building nodejs source
[debug] [2024-01-30T11:26:33.288Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:33.313Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:26:33.332Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:33.404Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:26:33.457Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8073

[debug] [2024-01-30T11:26:34.470Z] Validating nodejs source
[debug] [2024-01-30T11:26:37.823Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:37.823Z] Building nodejs source
[debug] [2024-01-30T11:26:37.823Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:37.828Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:37.851Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:26:37.860Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8105

[debug] [2024-01-30T11:26:39.234Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:26:47.160Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:26:48.174Z] Validating nodejs source
[debug] [2024-01-30T11:26:53.347Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:53.347Z] Building nodejs source
[debug] [2024-01-30T11:26:53.347Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:53.351Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:53.371Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:26:53.382Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8685

[debug] [2024-01-30T11:26:54.400Z] Validating nodejs source
[debug] [2024-01-30T11:26:59.898Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:26:59.898Z] Building nodejs source
[debug] [2024-01-30T11:26:59.898Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:26:59.901Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:26:59.921Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:29:30)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-01-30T11:26:59.939Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2024-01-30T11:26:59.951Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8422

[debug] [2024-01-30T11:27:00.967Z] Validating nodejs source
[debug] [2024-01-30T11:27:05.317Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:27:05.317Z] Building nodejs source
[debug] [2024-01-30T11:27:05.317Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:27:05.322Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:27:05.344Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:29:5)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-01-30T11:27:05.362Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-01-30T11:27:05.371Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:27:06.373Z] Validating nodejs source
[debug] [2024-01-30T11:27:11.903Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:27:11.904Z] Building nodejs source
[debug] [2024-01-30T11:27:11.904Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[info] Serving at port 8550

[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-01-30T11:27:11.919Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:27:11.944Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:27:12.002Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8275

[debug] [2024-01-30T11:27:13.006Z] Validating nodejs source
[debug] [2024-01-30T11:27:18.832Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:27:18.833Z] Building nodejs source
[debug] [2024-01-30T11:27:18.833Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:27:18.841Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:27:18.862Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:29:5)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[error] C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:29
app.post('/payments/create', async (request, response) => )
                                                          ^

SyntaxError: Unexpected token ')'
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)

[debug] [2024-01-30T11:27:18.890Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[debug] [2024-01-30T11:27:18.938Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:27:19.960Z] Validating nodejs source
[debug] [2024-01-30T11:27:24.219Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:27:24.219Z] Building nodejs source
[debug] [2024-01-30T11:27:24.219Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:27:24.226Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:27:24.246Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8255

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-01-30T11:27:24.269Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8264

[debug] [2024-01-30T11:27:25.164Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:27:25.274Z] Validating nodejs source
[debug] [2024-01-30T11:27:28.667Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:27:28.667Z] Building nodejs source
[debug] [2024-01-30T11:27:28.667Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:27:28.670Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:27:28.692Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:27:28.715Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8324

[debug] [2024-01-30T11:27:30.119Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:30:01.864Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:02.874Z] Validating nodejs source
[debug] [2024-01-30T11:30:07.938Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:07.938Z] Building nodejs source
[debug] [2024-01-30T11:30:07.939Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:07.942Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:07.966Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:30:07.993Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:08.998Z] Validating nodejs source
[debug] [2024-01-30T11:30:13.969Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:13.969Z] Building nodejs source
[debug] [2024-01-30T11:30:13.970Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:13.974Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:13.996Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8675

[debug] [2024-01-30T11:30:14.020Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:15.021Z] Validating nodejs source
[debug] [2024-01-30T11:30:23.518Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:23.519Z] Building nodejs source
[debug] [2024-01-30T11:30:23.519Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:23.526Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:23.549Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8365

[debug] [2024-01-30T11:30:23.569Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:24.572Z] Validating nodejs source
[debug] [2024-01-30T11:30:28.240Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:28.240Z] Building nodejs source
[debug] [2024-01-30T11:30:28.241Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:28.245Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:28.266Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8472

[debug] [2024-01-30T11:30:28.280Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:28.765Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:30:29.657Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:30:29.769Z] Validating nodejs source
[debug] [2024-01-30T11:30:35.082Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:35.083Z] Building nodejs source
[debug] [2024-01-30T11:30:35.083Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:35.090Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:35.110Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8656

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:30:35.147Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:36.157Z] Validating nodejs source
[debug] [2024-01-30T11:30:41.107Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:41.108Z] Building nodejs source
[debug] [2024-01-30T11:30:41.108Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:41.118Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:41.137Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8709

[debug] [2024-01-30T11:30:41.168Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:41.398Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:30:42.404Z] Validating nodejs source
[debug] [2024-01-30T11:30:45.855Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:30:45.855Z] Building nodejs source
[debug] [2024-01-30T11:30:45.855Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:30:45.861Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:30:45.881Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8504

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[info] Serving at port 8417

[debug] [2024-01-30T11:30:46.692Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:30:47.048Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:31:41.167Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:31:42.192Z] Validating nodejs source
[debug] [2024-01-30T11:31:46.207Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:31:46.208Z] Building nodejs source
[debug] [2024-01-30T11:31:46.208Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:31:46.212Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:31:46.235Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:31:46.255Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8946

[debug] [2024-01-30T11:31:47.275Z] Validating nodejs source
[debug] [2024-01-30T11:31:51.107Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:31:51.107Z] Building nodejs source
[debug] [2024-01-30T11:31:51.107Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:31:51.112Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:31:51.114Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:31:51.133Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8586

[debug] [2024-01-30T11:31:52.333Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:31:53.478Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:31:54.485Z] Validating nodejs source
[debug] [2024-01-30T11:31:57.799Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:31:57.799Z] Building nodejs source
[debug] [2024-01-30T11:31:57.799Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:31:57.804Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:31:57.826Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8257

[debug] [2024-01-30T11:31:58.888Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:32:02.291Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:32:03.298Z] Validating nodejs source
[debug] [2024-01-30T11:32:07.250Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:32:07.251Z] Building nodejs source
[debug] [2024-01-30T11:32:07.251Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:32:07.255Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:32:07.277Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:32:07.301Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8448

[debug] [2024-01-30T11:32:08.311Z] Validating nodejs source
[debug] [2024-01-30T11:32:12.275Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:32:12.275Z] Building nodejs source
[debug] [2024-01-30T11:32:12.275Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:32:12.279Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:32:12.300Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:32:12.307Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:32:12.311Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:32:13.105Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8423

[debug] [2024-01-30T11:32:14.208Z] Validating nodejs source
[debug] [2024-01-30T11:32:18.796Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:32:18.797Z] Building nodejs source
[debug] [2024-01-30T11:32:18.797Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:32:18.803Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:32:18.825Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:32:18.851Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8689

[debug] [2024-01-30T11:32:20.455Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:32:23.761Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:32:24.771Z] Validating nodejs source
[debug] [2024-01-30T11:32:28.302Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:32:28.303Z] Building nodejs source
[debug] [2024-01-30T11:32:28.303Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:32:28.306Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:32:28.324Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8483

[debug] [2024-01-30T11:32:29.426Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:32:43.336Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:32:44.351Z] Validating nodejs source
[debug] [2024-01-30T11:32:49.631Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:32:49.631Z] Building nodejs source
[debug] [2024-01-30T11:32:49.631Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:32:49.635Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:32:49.658Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8466

[error] C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34
    const payment
          ^^^^^^^

SyntaxError: Missing initializer in const declaration
    at internalCompileFunction (node:internal/vm:77:18)
    at wrapSafe (node:internal/modules/cjs/loader:1288:20)
    at Module._compile (node:internal/modules/cjs/loader:1340:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
    at require (node:internal/modules/helpers:176:18)
    at loadModule (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)

[debug] [2024-01-30T11:32:50.391Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2024-01-30T11:32:53.876Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:32:54.934Z] Validating nodejs source
[debug] [2024-01-30T11:33:00.106Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:00.106Z] Building nodejs source
[debug] [2024-01-30T11:33:00.106Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:00.111Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:00.133Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-01-30T11:33:00.152Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:00.451Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8814

[debug] [2024-01-30T11:33:01.481Z] Validating nodejs source
[debug] [2024-01-30T11:33:06.513Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:06.514Z] Building nodejs source
[debug] [2024-01-30T11:33:06.514Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:06.516Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:06.538Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:33:06.547Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:06.552Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8428

[debug] [2024-01-30T11:33:07.574Z] Validating nodejs source
[debug] [2024-01-30T11:33:10.921Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:10.921Z] Building nodejs source
[debug] [2024-01-30T11:33:10.921Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:10.925Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:10.948Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:33:10.956Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8109

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:33:12.411Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:12.905Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:13.906Z] Validating nodejs source
[debug] [2024-01-30T11:33:18.589Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:18.590Z] Building nodejs source
[debug] [2024-01-30T11:33:18.590Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:18.605Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:18.622Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:33:18.683Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:19.687Z] Validating nodejs source
[debug] [2024-01-30T11:33:23.688Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:23.688Z] Building nodejs source
[debug] [2024-01-30T11:33:23.688Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:23.694Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:23.714Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8277

[debug] [2024-01-30T11:33:24.175Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:25.072Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:25.206Z] Validating nodejs source
[debug] [2024-01-30T11:33:29.813Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:29.814Z] Building nodejs source
[debug] [2024-01-30T11:33:29.814Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:29.820Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:29.841Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8988

[debug] [2024-01-30T11:33:29.949Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8464

[debug] [2024-01-30T11:33:30.954Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:30.965Z] Validating nodejs source
[debug] [2024-01-30T11:33:35.875Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:35.876Z] Building nodejs source
[debug] [2024-01-30T11:33:35.876Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:35.895Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:35.968Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:33:36.082Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:37.088Z] Validating nodejs source
[debug] [2024-01-30T11:33:43.316Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:43.317Z] Building nodejs source
[debug] [2024-01-30T11:33:43.317Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:43.324Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:43.345Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8228

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:33:43.386Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:44.394Z] Validating nodejs source
[debug] [2024-01-30T11:33:48.463Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:48.463Z] Building nodejs source
[debug] [2024-01-30T11:33:48.464Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:48.469Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:48.490Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8521

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:33:48.519Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:49.531Z] Validating nodejs source
[debug] [2024-01-30T11:33:53.137Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:33:53.138Z] Building nodejs source
[debug] [2024-01-30T11:33:53.138Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:33:53.144Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:33:53.166Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8697

[debug] [2024-01-30T11:33:53.177Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[info] Serving at port 8896

[debug] [2024-01-30T11:33:54.057Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:54.786Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:33:56.307Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:33:57.319Z] Validating nodejs source
[debug] [2024-01-30T11:34:01.925Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:01.925Z] Building nodejs source
[debug] [2024-01-30T11:34:01.925Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:01.929Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:01.951Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8333

[debug] [2024-01-30T11:34:02.987Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:34:14.663Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:34:15.667Z] Validating nodejs source
[debug] [2024-01-30T11:34:20.412Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:20.413Z] Building nodejs source
[debug] [2024-01-30T11:34:20.413Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:20.416Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:20.437Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8022

[debug] [2024-01-30T11:34:21.852Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:34:22.842Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:34:23.850Z] Validating nodejs source
[debug] [2024-01-30T11:34:28.642Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:28.643Z] Building nodejs source
[debug] [2024-01-30T11:34:28.643Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:28.660Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:28.683Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:34:29.892Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8160

[debug] [2024-01-30T11:34:30.798Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:34:30.897Z] Validating nodejs source
[debug] [2024-01-30T11:34:35.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:35.345Z] Building nodejs source
[debug] [2024-01-30T11:34:35.345Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:35.354Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:35.376Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:34:35.398Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:34:36.400Z] Validating nodejs source
[debug] [2024-01-30T11:34:42.023Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:42.024Z] Building nodejs source
[debug] [2024-01-30T11:34:42.024Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:42.041Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:42.063Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8570

[debug] [2024-01-30T11:34:42.093Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:34:43.095Z] Validating nodejs source
[debug] [2024-01-30T11:34:49.626Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:49.626Z] Building nodejs source
[debug] [2024-01-30T11:34:49.626Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:49.633Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:49.661Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8446

[debug] [2024-01-30T11:34:49.678Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:34:50.681Z] Validating nodejs source
[debug] [2024-01-30T11:34:56.494Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:34:56.494Z] Building nodejs source
[debug] [2024-01-30T11:34:56.494Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:34:56.513Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:34:56.534Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8943

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:34:56.583Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:34:57.614Z] Validating nodejs source
[debug] [2024-01-30T11:35:03.496Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:03.497Z] Building nodejs source
[debug] [2024-01-30T11:35:03.497Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:03.505Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:03.526Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8007

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:35:03.563Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:35:04.565Z] Validating nodejs source
[debug] [2024-01-30T11:35:10.154Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:10.154Z] Building nodejs source
[debug] [2024-01-30T11:35:10.155Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:10.161Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:10.183Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8104

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:35:10.208Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8216

[debug] [2024-01-30T11:35:11.040Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:35:11.221Z] Validating nodejs source
[debug] [2024-01-30T11:35:14.440Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:14.440Z] Building nodejs source
[debug] [2024-01-30T11:35:14.440Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:14.444Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:14.465Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:35:14.472Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8821

[error] !!  functions: Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: User code failed to load. Cannot determine backend specification"}}
[debug] [2024-01-30T11:35:15.724Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:35:17.085Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:35:18.095Z] Validating nodejs source
[debug] [2024-01-30T11:35:21.320Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:21.320Z] Building nodejs source
[debug] [2024-01-30T11:35:21.320Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:21.326Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:21.345Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8233

[debug] [2024-01-30T11:35:22.397Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T11:35:22.640Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T11:35:23.407Z] Validating nodejs source
[debug] [2024-01-30T11:35:26.857Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:26.857Z] Building nodejs source
[debug] [2024-01-30T11:35:26.857Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:26.861Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:26.882Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:35:26.891Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8975

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:35:27.900Z] Validating nodejs source
[debug] [2024-01-30T11:35:31.137Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T11:35:31.138Z] Building nodejs source
[debug] [2024-01-30T11:35:31.138Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T11:35:31.141Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T11:35:31.164Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T11:35:31.172Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8976

[debug] [2024-01-30T11:35:32.621Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T11:38:52.645Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:38:52.647Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z"],"workRunningCount":1}
[debug] [2024-01-30T11:38:52.647Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:38:52.660Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:38:52.663Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:38:52.663Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T11:38:52.689Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:38:52.691Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:38:56.734Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z"],"workRunningCount":1}
[debug] [2024-01-30T11:38:56.735Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z"],"workRunningCount":2}
[debug] [2024-01-30T11:38:56.735Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:38:56.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:38:56.739Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:38:56.774Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:38:56.775Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T11:38:56.785Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.785Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z"],"workRunningCount":2}
[debug] [2024-01-30T11:38:56.786Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:52.644Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.785Z"],"workRunningCount":3}
[debug] [2024-01-30T11:38:56.786Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:38:56.791Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:38:56.791Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:38:56.850Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:38:56.850Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2024-01-30T11:38:58.905Z] [runtime-status] [10916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:38:58.918Z] [runtime-status] [10916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:38:58.933Z] [runtime-status] [10916] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:38:58.936Z] [runtime-status] [10916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:00.627Z] [runtime-status] [10916] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:39:00.628Z] [runtime-status] [10916] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:00.629Z] [runtime-status] [10916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:00.633Z] [runtime-status] [10916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:00.646Z] [runtime-status] [10916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:00.703Z] [runtime-status] [10916] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:01.995Z] [runtime-status] [10916] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:39:01.996Z] [runtime-status] [10916] Listening to port: \\?\pipe\fire_emu_3b0697ef23b03d47 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10916] Listening to port: \\\\?\\pipe\\fire_emu_3b0697ef23b03d47"}}
[debug] [2024-01-30T11:39:02.020Z] [worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: IDLE"}}
[debug] [2024-01-30T11:39:02.022Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:39:02.087Z] [worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:39:02.333Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.785Z"],"workRunningCount":2}
[debug] [2024-01-30T11:39:02.334Z] [worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: exited"}}
[debug] [2024-01-30T11:39:02.334Z] [worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ee32ef67-e21a-4b95-bc37-752fd7fd9317]: FINISHED"}}
[debug] [2024-01-30T11:39:03.436Z] [runtime-status] [1736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:03.451Z] [runtime-status] [1736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:03.453Z] [runtime-status] [1736] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:39:03.473Z] [runtime-status] [1736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:03.612Z] [runtime-status] [16892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:03.616Z] [runtime-status] [16892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:03.619Z] [runtime-status] [16892] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:39:03.621Z] [runtime-status] [16892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.333Z] [runtime-status] [1736] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:39:04.334Z] [runtime-status] [1736] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:04.336Z] [runtime-status] [1736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.339Z] [runtime-status] [1736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.350Z] [runtime-status] [1736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.351Z] [runtime-status] [1736] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:04.515Z] [runtime-status] [16892] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:39:04.516Z] [runtime-status] [16892] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:04.517Z] [runtime-status] [16892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.520Z] [runtime-status] [16892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.526Z] [runtime-status] [16892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:04.527Z] [runtime-status] [16892] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:04.984Z] [runtime-status] [1736] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:39:04.986Z] [runtime-status] [1736] Listening to port: \\?\pipe\fire_emu_e2bb39391108ff6a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1736] Listening to port: \\\\?\\pipe\\fire_emu_e2bb39391108ff6a"}}
[debug] [2024-01-30T11:39:05.046Z] [worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: IDLE"}}
[debug] [2024-01-30T11:39:05.046Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T11:39:05.046Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:39:05.048Z] [worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:39:05.101Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:38:56.734Z"],"workRunningCount":1}
[debug] [2024-01-30T11:39:05.104Z] [runtime-status] [16892] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:39:05.107Z] [runtime-status] [16892] Listening to port: \\?\pipe\fire_emu_f0c936ea7e79c134 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16892] Listening to port: \\\\?\\pipe\\fire_emu_f0c936ea7e79c134"}}
[debug] [2024-01-30T11:39:05.124Z] [worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: exited"}}
[debug] [2024-01-30T11:39:05.124Z] [worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8584b541-1933-488a-a51c-992c57847ce6]: FINISHED"}}
[debug] [2024-01-30T11:39:05.156Z] [worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: IDLE"}}
[debug] [2024-01-30T11:39:05.157Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T11:39:05.157Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:39:05.159Z] [worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:39:05.225Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[debug] [2024-01-30T11:39:05.239Z] [worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: exited"}}
[debug] [2024-01-30T11:39:05.239Z] [worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ff2ae298-c3eb-414d-bfec-d800482a0bc8]: FINISHED"}}
[debug] [2024-01-30T11:39:51.394Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.394Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:39:51.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.394Z"],"workRunningCount":1}
[debug] [2024-01-30T11:39:51.394Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:39:51.399Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:39:51.400Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:39:51.400Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T11:39:51.413Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:39:51.414Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:39:51.417Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.417Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.394Z"],"workRunningCount":1}
[debug] [2024-01-30T11:39:51.417Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.394Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.417Z"],"workRunningCount":2}
[debug] [2024-01-30T11:39:51.417Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:39:51.421Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:39:51.421Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:39:51.431Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:39:51.432Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T11:39:55.127Z] [runtime-status] [7588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.130Z] [runtime-status] [7588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.132Z] [runtime-status] [7588] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:39:55.133Z] [runtime-status] [7588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.159Z] [runtime-status] [6472] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.164Z] [runtime-status] [6472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.166Z] [runtime-status] [6472] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:39:55.170Z] [runtime-status] [6472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.755Z] [runtime-status] [7588] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:39:55.756Z] [runtime-status] [7588] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:55.757Z] [runtime-status] [7588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.761Z] [runtime-status] [7588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.767Z] [runtime-status] [7588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.768Z] [runtime-status] [7588] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:55.793Z] [runtime-status] [6472] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:39:55.794Z] [runtime-status] [6472] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:55.795Z] [runtime-status] [6472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.797Z] [runtime-status] [6472] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.801Z] [runtime-status] [6472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:39:55.802Z] [runtime-status] [6472] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:39:56.250Z] [runtime-status] [7588] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:39:56.251Z] [runtime-status] [7588] Listening to port: \\?\pipe\fire_emu_fd56c8cca097fc7b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7588] Listening to port: \\\\?\\pipe\\fire_emu_fd56c8cca097fc7b"}}
[debug] [2024-01-30T11:39:56.285Z] [runtime-status] [6472] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:39:56.286Z] [runtime-status] [6472] Listening to port: \\?\pipe\fire_emu_a1fa05dd0b18da49 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6472] Listening to port: \\\\?\\pipe\\fire_emu_a1fa05dd0b18da49"}}
[debug] [2024-01-30T11:39:56.318Z] [worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: IDLE"}}
[debug] [2024-01-30T11:39:56.318Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:39:56.320Z] [worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: BUSY"}}
[debug] [2024-01-30T11:39:56.321Z] [worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: IDLE"}}
[debug] [2024-01-30T11:39:56.321Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:39:56.322Z] [worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:39:56.410Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:39:51.417Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:39:56.414Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[debug] [2024-01-30T11:39:56.437Z] [worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: exited"}}
[debug] [2024-01-30T11:39:56.437Z] [worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e4b85ab-36a9-4427-bc8e-b3552d520d65]: FINISHED"}}
[debug] [2024-01-30T11:39:56.437Z] [worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: exited"}}
[debug] [2024-01-30T11:39:56.437Z] [worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2d22f8c7-4b5e-4a70-a0b5-65f1e495b187]: FINISHED"}}
[debug] [2024-01-30T11:40:21.664Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:40:21.664Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:40:21.664Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:40:21.664Z"],"workRunningCount":1}
[debug] [2024-01-30T11:40:21.665Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:40:21.669Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:40:21.669Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:40:21.670Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-01-30T11:40:21.682Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:40:21.683Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:40:24.090Z] [runtime-status] [232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.093Z] [runtime-status] [232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.094Z] [runtime-status] [232] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:40:24.096Z] [runtime-status] [232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.573Z] [runtime-status] [232] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:40:24.574Z] [runtime-status] [232] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:40:24.575Z] [runtime-status] [232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.578Z] [runtime-status] [232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.583Z] [runtime-status] [232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:40:24.583Z] [runtime-status] [232] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:40:24.938Z] [runtime-status] [232] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:40:24.939Z] [runtime-status] [232] Listening to port: \\?\pipe\fire_emu_c8ea58dde5d1381f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [232] Listening to port: \\\\?\\pipe\\fire_emu_c8ea58dde5d1381f"}}
[debug] [2024-01-30T11:40:25.017Z] [worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: IDLE"}}
[debug] [2024-01-30T11:40:25.017Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:40:25.020Z] [worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:40:25.076Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:40:25.076Z] [worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: exited"}}
[debug] [2024-01-30T11:40:25.076Z] [worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-01cf6e9e-a96e-4e96-9491-a9f18d771697]: FINISHED"}}
[debug] [2024-01-30T11:41:32.485Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.485Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:41:32.485Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.485Z"],"workRunningCount":1}
[debug] [2024-01-30T11:41:32.486Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:41:32.491Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:41:32.492Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:41:32.492Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T11:41:32.504Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:41:32.505Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:41:32.509Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.509Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.485Z"],"workRunningCount":1}
[debug] [2024-01-30T11:41:32.509Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.485Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.509Z"],"workRunningCount":2}
[debug] [2024-01-30T11:41:32.509Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:41:32.512Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:41:32.513Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:41:32.528Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:41:32.530Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T11:41:37.351Z] [runtime-status] [1488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:37.357Z] [runtime-status] [1488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:37.359Z] [runtime-status] [1488] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:41:37.361Z] [runtime-status] [1488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:37.635Z] [runtime-status] [10200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:37.644Z] [runtime-status] [10200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:37.645Z] [runtime-status] [10200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:41:37.647Z] [runtime-status] [10200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.356Z] [runtime-status] [1488] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:41:38.356Z] [runtime-status] [1488] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:41:38.358Z] [runtime-status] [1488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.361Z] [runtime-status] [1488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.370Z] [runtime-status] [1488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.370Z] [runtime-status] [1488] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:41:38.538Z] [runtime-status] [10200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:41:38.538Z] [runtime-status] [10200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:41:38.543Z] [runtime-status] [10200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.547Z] [runtime-status] [10200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.555Z] [runtime-status] [10200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:41:38.556Z] [runtime-status] [10200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:41:38.956Z] [runtime-status] [1488] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:41:38.958Z] [runtime-status] [1488] Listening to port: \\?\pipe\fire_emu_71a0ea2067e2c0e7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1488] Listening to port: \\\\?\\pipe\\fire_emu_71a0ea2067e2c0e7"}}
[debug] [2024-01-30T11:41:39.005Z] [worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: IDLE"}}
[debug] [2024-01-30T11:41:39.006Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:41:39.008Z] [worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:41:39.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:41:32.485Z"],"workRunningCount":1}
[debug] [2024-01-30T11:41:39.179Z] [worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: exited"}}
[debug] [2024-01-30T11:41:39.180Z] [worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0cb5d6a-be58-42ca-882a-9c5dd66dee7a]: FINISHED"}}
[debug] [2024-01-30T11:41:39.323Z] [runtime-status] [10200] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:41:39.325Z] [runtime-status] [10200] Listening to port: \\?\pipe\fire_emu_8a88fed725793f71 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10200] Listening to port: \\\\?\\pipe\\fire_emu_8a88fed725793f71"}}
[debug] [2024-01-30T11:41:39.342Z] [worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: IDLE"}}
[debug] [2024-01-30T11:41:39.342Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T11:41:39.342Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:41:39.344Z] [worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:41:39.411Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:41:39.431Z] [worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: exited"}}
[debug] [2024-01-30T11:41:39.431Z] [worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8280dcdf-6ddd-4c45-a0d4-6564f597fc71]: FINISHED"}}
[debug] [2024-01-30T11:42:23.714Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.714Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:42:23.715Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.714Z"],"workRunningCount":1}
[debug] [2024-01-30T11:42:23.715Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:42:23.722Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:42:23.722Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:42:23.723Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T11:42:23.740Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:42:23.741Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T11:42:23.744Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.744Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.714Z"],"workRunningCount":1}
[debug] [2024-01-30T11:42:23.744Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.714Z","/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.744Z"],"workRunningCount":2}
[debug] [2024-01-30T11:42:23.745Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T11:42:23.750Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T11:42:23.751Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T11:42:23.773Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T11:42:23.774Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T11:42:27.641Z] [runtime-status] [11792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:27.645Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:27.646Z] [runtime-status] [11792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:42:27.648Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:27.670Z] [runtime-status] [11016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:27.675Z] [runtime-status] [11016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:27.676Z] [runtime-status] [11016] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T11:42:27.678Z] [runtime-status] [11016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.197Z] [runtime-status] [11792] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:42:28.197Z] [runtime-status] [11792] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:42:28.200Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.204Z] [runtime-status] [11792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.212Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.215Z] [runtime-status] [11792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:42:28.229Z] [runtime-status] [11016] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T11:42:28.229Z] [runtime-status] [11016] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T11:42:28.231Z] [runtime-status] [11016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.233Z] [runtime-status] [11016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.238Z] [runtime-status] [11016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T11:42:28.238Z] [runtime-status] [11016] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T11:42:28.600Z] [runtime-status] [11792] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:42:28.601Z] [runtime-status] [11792] Listening to port: \\?\pipe\fire_emu_f9f45cd9a599da92 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11792] Listening to port: \\\\?\\pipe\\fire_emu_f9f45cd9a599da92"}}
[debug] [2024-01-30T11:42:28.618Z] [runtime-status] [11016] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T11:42:28.619Z] [runtime-status] [11016] Listening to port: \\?\pipe\fire_emu_d2dfe06aa2c8b4ea {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11016] Listening to port: \\\\?\\pipe\\fire_emu_d2dfe06aa2c8b4ea"}}
[debug] [2024-01-30T11:42:28.657Z] [worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: IDLE"}}
[debug] [2024-01-30T11:42:28.657Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:42:28.661Z] [worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: BUSY"}}
[debug] [2024-01-30T11:42:28.677Z] [worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: IDLE"}}
[debug] [2024-01-30T11:42:28.677Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T11:42:28.679Z] [worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:42:28.825Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T11:42:23.744Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T11:42:28.845Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T11:42:28.845Z] [worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: exited"}}
[debug] [2024-01-30T11:42:28.845Z] [worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c3383b94-a752-422f-9837-bddbb024e313]: FINISHED"}}
[debug] [2024-01-30T11:42:28.846Z] [worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: exited"}}
[debug] [2024-01-30T11:42:28.846Z] [worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38416a27-0a33-4990-a4ef-1a3e16491726]: FINISHED"}}
[debug] [2024-01-30T12:02:47.933Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:47.933Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:02:47.934Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:47.933Z"],"workRunningCount":1}
[debug] [2024-01-30T12:02:47.934Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:02:47.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:02:47.942Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:02:47.942Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-01-30T12:02:47.951Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:02:47.953Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:02:52.778Z] [runtime-status] [15728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:52.779Z] [runtime-status] [15728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:52.779Z] [runtime-status] [15728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:02:52.782Z] [runtime-status] [15728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:53.632Z] [runtime-status] [15728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:02:53.632Z] [runtime-status] [15728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:02:53.635Z] [runtime-status] [15728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:53.638Z] [runtime-status] [15728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:53.645Z] [runtime-status] [15728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:53.645Z] [runtime-status] [15728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:02:53.673Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:47.933Z"],"workRunningCount":1}
[debug] [2024-01-30T12:02:53.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:47.933Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z"],"workRunningCount":2}
[debug] [2024-01-30T12:02:53.674Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:02:53.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:02:53.678Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:02:53.691Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:02:53.691Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:02:54.512Z] [runtime-status] [15728] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:02:54.524Z] [runtime-status] [15728] Listening to port: \\?\pipe\fire_emu_8fc4fc1acc7920a9 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15728] Listening to port: \\\\?\\pipe\\fire_emu_8fc4fc1acc7920a9"}}
[debug] [2024-01-30T12:02:54.626Z] [worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: IDLE"}}
[debug] [2024-01-30T12:02:54.626Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:02:54.647Z] [worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:02:54.734Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z"],"workRunningCount":1}
[debug] [2024-01-30T12:02:54.818Z] [worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: exited"}}
[debug] [2024-01-30T12:02:54.818Z] [worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba3c42d4-f6cf-46e8-9584-33967e01c794]: FINISHED"}}
[debug] [2024-01-30T12:02:57.131Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:57.131Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z"],"workRunningCount":1}
[debug] [2024-01-30T12:02:57.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:57.131Z"],"workRunningCount":2}
[debug] [2024-01-30T12:02:57.131Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:02:57.132Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:02:57.133Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:02:57.133Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2024-01-30T12:02:57.173Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:02:57.174Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:02:58.953Z] [runtime-status] [7072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:58.957Z] [runtime-status] [7072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:02:58.958Z] [runtime-status] [7072] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:02:58.961Z] [runtime-status] [7072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:00.192Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:00.192Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:57.131Z"],"workRunningCount":2}
[debug] [2024-01-30T12:03:00.192Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:53.673Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:57.131Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:00.192Z"],"workRunningCount":3}
[debug] [2024-01-30T12:03:00.193Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:03:00.193Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:03:00.194Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:03:00.205Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:03:00.206Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2024-01-30T12:03:00.572Z] [runtime-status] [7072] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:00.572Z] [runtime-status] [7072] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:00.574Z] [runtime-status] [7072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:00.578Z] [runtime-status] [7072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:00.585Z] [runtime-status] [7072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:00.586Z] [runtime-status] [7072] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:01.741Z] [runtime-status] [7072] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:01.743Z] [runtime-status] [7072] Listening to port: \\?\pipe\fire_emu_625a7dbea92a2197 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7072] Listening to port: \\\\?\\pipe\\fire_emu_625a7dbea92a2197"}}
[debug] [2024-01-30T12:03:01.823Z] [worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: IDLE"}}
[debug] [2024-01-30T12:03:01.824Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:01.829Z] [worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:01.892Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:02:57.131Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:00.192Z"],"workRunningCount":2}
[debug] [2024-01-30T12:03:01.918Z] [worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: exited"}}
[debug] [2024-01-30T12:03:01.918Z] [worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4ab28763-e014-4ba4-8f05-c6db1480a299]: FINISHED"}}
[debug] [2024-01-30T12:03:02.869Z] [runtime-status] [1648] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:02.875Z] [runtime-status] [1648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:02.877Z] [runtime-status] [1648] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:02.880Z] [runtime-status] [1648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:03.566Z] [runtime-status] [1648] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:03.566Z] [runtime-status] [1648] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:03.567Z] [runtime-status] [1648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:03.570Z] [runtime-status] [1648] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:03.576Z] [runtime-status] [1648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:03.577Z] [runtime-status] [1648] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:04.523Z] [runtime-status] [1648] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:04.528Z] [runtime-status] [1648] Listening to port: \\?\pipe\fire_emu_9759ee1abe2789a1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1648] Listening to port: \\\\?\\pipe\\fire_emu_9759ee1abe2789a1"}}
[debug] [2024-01-30T12:03:04.614Z] [worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: IDLE"}}
[debug] [2024-01-30T12:03:04.614Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:03:04.615Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:04.617Z] [worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:04.681Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:00.192Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:04.738Z] [worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: exited"}}
[debug] [2024-01-30T12:03:04.739Z] [worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-39bc7de8-6837-42ee-8235-cbba309b24b1]: FINISHED"}}
[debug] [2024-01-30T12:03:05.322Z] [runtime-status] [15652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:05.328Z] [runtime-status] [15652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:05.330Z] [runtime-status] [15652] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:05.333Z] [runtime-status] [15652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:06.307Z] [runtime-status] [15652] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:06.307Z] [runtime-status] [15652] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:06.309Z] [runtime-status] [15652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:06.312Z] [runtime-status] [15652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:06.318Z] [runtime-status] [15652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:06.318Z] [runtime-status] [15652] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:06.884Z] [runtime-status] [15652] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:06.885Z] [runtime-status] [15652] Listening to port: \\?\pipe\fire_emu_ba04127c1dec84d6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15652] Listening to port: \\\\?\\pipe\\fire_emu_ba04127c1dec84d6"}}
[debug] [2024-01-30T12:03:06.932Z] [worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: IDLE"}}
[debug] [2024-01-30T12:03:06.933Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:03:06.933Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:06.935Z] [worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:06.994Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:03:07.048Z] [worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: exited"}}
[debug] [2024-01-30T12:03:07.049Z] [worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf8eaac2-bd17-4514-9934-852886ef9543]: FINISHED"}}
[debug] [2024-01-30T12:03:17.806Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.806Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:03:17.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.806Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:17.806Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=21896.999999999996 --> us-central1-api
[debug] [2024-01-30T12:03:17.812Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:03:17.812Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996"}}
[debug] [2024-01-30T12:03:17.812Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:03:17.824Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:03:17.824Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:03:17.827Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.827Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.806Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:17.827Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.806Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.827Z"],"workRunningCount":2}
[debug] [2024-01-30T12:03:17.828Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=21896.999999999996 --> us-central1-api
[debug] [2024-01-30T12:03:17.832Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:03:17.833Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996"}}
[debug] [2024-01-30T12:03:17.843Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:03:17.845Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:03:21.462Z] [runtime-status] [18112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:21.468Z] [runtime-status] [18112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:21.469Z] [runtime-status] [18112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:21.470Z] [runtime-status] [18112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:21.471Z] [runtime-status] [9724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:21.474Z] [runtime-status] [9724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:21.475Z] [runtime-status] [9724] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:21.477Z] [runtime-status] [9724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.033Z] [runtime-status] [18112] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:22.034Z] [runtime-status] [18112] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:22.036Z] [runtime-status] [18112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.039Z] [runtime-status] [18112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.045Z] [runtime-status] [18112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.045Z] [runtime-status] [18112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:22.048Z] [runtime-status] [9724] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:22.048Z] [runtime-status] [9724] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:22.050Z] [runtime-status] [9724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.054Z] [runtime-status] [9724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.060Z] [runtime-status] [9724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:22.061Z] [runtime-status] [9724] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:22.577Z] [runtime-status] [18112] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:22.578Z] [runtime-status] [18112] Listening to port: \\?\pipe\fire_emu_95d937637b2ba09d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18112] Listening to port: \\\\?\\pipe\\fire_emu_95d937637b2ba09d"}}
[debug] [2024-01-30T12:03:22.609Z] [worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: IDLE"}}
[debug] [2024-01-30T12:03:22.609Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:22.611Z] [worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: BUSY"}}
[debug] [2024-01-30T12:03:22.614Z] [runtime-status] [9724] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:22.616Z] [runtime-status] [9724] Listening to port: \\?\pipe\fire_emu_7f7a97fc7cea6e24 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9724] Listening to port: \\\\?\\pipe\\fire_emu_7f7a97fc7cea6e24"}}
[info] >  Payment Request Recieved BOOM!!! >>> 21896.999999999996 {"user":"Payment Request Recieved BOOM!!! >>> 21896.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 21896.999999999996"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:22.672Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:17.827Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:22.706Z] [worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: exited"}}
[debug] [2024-01-30T12:03:22.706Z] [worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e31697a-7ed3-40c1-a102-3af969ce8e02]: FINISHED"}}
[debug] [2024-01-30T12:03:22.722Z] [worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: IDLE"}}
[debug] [2024-01-30T12:03:22.722Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:03:22.722Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:22.725Z] [worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 21896.999999999996 {"user":"Payment Request Recieved BOOM!!! >>> 21896.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 21896.999999999996"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:22.787Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:03:22.787Z] [worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: exited"}}
[debug] [2024-01-30T12:03:22.787Z] [worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c58659ce-c2a3-41ff-b2c4-d94b9b9f9b37]: FINISHED"}}
[debug] [2024-01-30T12:03:42.289Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.289Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:03:42.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.289Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:42.289Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=21896.999999999996 --> us-central1-api
[debug] [2024-01-30T12:03:42.294Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:03:42.294Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996"}}
[debug] [2024-01-30T12:03:42.294Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:03:42.306Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:03:42.307Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:03:42.309Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.309Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.289Z"],"workRunningCount":1}
[debug] [2024-01-30T12:03:42.310Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.289Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.309Z"],"workRunningCount":2}
[debug] [2024-01-30T12:03:42.310Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=21896.999999999996 --> us-central1-api
[debug] [2024-01-30T12:03:42.313Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:03:42.314Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=21896.999999999996, mapping to path=/payments/create?total=21896.999999999996"}}
[debug] [2024-01-30T12:03:42.333Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:03:42.333Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:03:45.207Z] [runtime-status] [1856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.210Z] [runtime-status] [1856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.211Z] [runtime-status] [1856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:45.212Z] [runtime-status] [1856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.214Z] [runtime-status] [10308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.217Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.218Z] [runtime-status] [10308] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:03:45.219Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.701Z] [runtime-status] [1856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:45.701Z] [runtime-status] [1856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:45.702Z] [runtime-status] [1856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.704Z] [runtime-status] [1856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.706Z] [runtime-status] [10308] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:03:45.706Z] [runtime-status] [10308] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:45.708Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.709Z] [runtime-status] [1856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.709Z] [runtime-status] [1856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:45.710Z] [runtime-status] [10308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.714Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:03:45.715Z] [runtime-status] [10308] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:03:46.101Z] [runtime-status] [1856] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:46.102Z] [runtime-status] [1856] Listening to port: \\?\pipe\fire_emu_b0502f4d904136ab {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1856] Listening to port: \\\\?\\pipe\\fire_emu_b0502f4d904136ab"}}
[debug] [2024-01-30T12:03:46.116Z] [runtime-status] [10308] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:03:46.117Z] [runtime-status] [10308] Listening to port: \\?\pipe\fire_emu_b51f9a0d8262991d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10308] Listening to port: \\\\?\\pipe\\fire_emu_b51f9a0d8262991d"}}
[debug] [2024-01-30T12:03:46.147Z] [worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: IDLE"}}
[debug] [2024-01-30T12:03:46.147Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:46.149Z] [worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: BUSY"}}
[debug] [2024-01-30T12:03:46.150Z] [worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: IDLE"}}
[debug] [2024-01-30T12:03:46.150Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:03:46.176Z] [worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 21896.999999999996 {"user":"Payment Request Recieved BOOM!!! >>> 21896.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 21896.999999999996"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:46.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:03:42.309Z"],"workRunningCount":1}
[info] >  Payment Request Recieved BOOM!!! >>> 21896.999999999996 {"user":"Payment Request Recieved BOOM!!! >>> 21896.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 21896.999999999996"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:03:46.432Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:03:46.433Z] [worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: exited"}}
[debug] [2024-01-30T12:03:46.443Z] [worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b86daef-8e6a-4047-8abc-36ee7aed93cf]: FINISHED"}}
[debug] [2024-01-30T12:03:46.448Z] [worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: exited"}}
[debug] [2024-01-30T12:03:46.448Z] [worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d19ba48-eabc-4391-805d-e933f127187b]: FINISHED"}}
[debug] [2024-01-30T12:04:38.566Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:04:39.543Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:04:40.559Z] Validating nodejs source
[debug] [2024-01-30T12:04:44.961Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:04:44.961Z] Building nodejs source
[debug] [2024-01-30T12:04:44.962Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:04:44.971Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:04:45.003Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T12:04:45.017Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8442

[debug] [2024-01-30T12:04:46.027Z] Validating nodejs source
[debug] [2024-01-30T12:04:48.644Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:04:48.644Z] Building nodejs source
[debug] [2024-01-30T12:04:48.644Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:04:48.648Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T12:04:48.649Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:04:48.666Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8726

[debug] [2024-01-30T12:04:49.663Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T12:05:05.163Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:05:06.177Z] Validating nodejs source
[debug] [2024-01-30T12:05:09.291Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:05:09.291Z] Building nodejs source
[debug] [2024-01-30T12:05:09.291Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:05:09.294Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:05:09.312Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8618

[debug] [2024-01-30T12:05:10.186Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T12:05:47.713Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.713Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:05:47.713Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.713Z"],"workRunningCount":1}
[debug] [2024-01-30T12:05:47.713Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:05:47.716Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:05:47.716Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:05:47.716Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-01-30T12:05:47.728Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:05:47.728Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:05:47.730Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.730Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.713Z"],"workRunningCount":1}
[debug] [2024-01-30T12:05:47.730Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.713Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.730Z"],"workRunningCount":2}
[debug] [2024-01-30T12:05:47.730Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:05:47.734Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:05:47.735Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:05:47.748Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:05:47.749Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:05:51.778Z] [runtime-status] [14996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:51.778Z] [runtime-status] [4944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:51.781Z] [runtime-status] [4944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:51.781Z] [runtime-status] [14996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:51.782Z] [runtime-status] [4944] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:05:51.782Z] [runtime-status] [14996] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:05:51.783Z] [runtime-status] [14996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:51.784Z] [runtime-status] [4944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.319Z] [runtime-status] [14996] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:05:52.320Z] [runtime-status] [14996] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:05:52.322Z] [runtime-status] [14996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.326Z] [runtime-status] [14996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.333Z] [runtime-status] [14996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.334Z] [runtime-status] [14996] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:05:52.340Z] [runtime-status] [4944] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:05:52.341Z] [runtime-status] [4944] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:05:52.342Z] [runtime-status] [4944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.344Z] [runtime-status] [4944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.348Z] [runtime-status] [4944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:05:52.349Z] [runtime-status] [4944] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:05:52.730Z] [runtime-status] [14996] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:05:52.732Z] [runtime-status] [14996] Listening to port: \\?\pipe\fire_emu_fff586de3d420fb7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14996] Listening to port: \\\\?\\pipe\\fire_emu_fff586de3d420fb7"}}
[debug] [2024-01-30T12:05:52.738Z] [runtime-status] [4944] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:05:52.739Z] [runtime-status] [4944] Listening to port: \\?\pipe\fire_emu_f2f8216fa3d0c071 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4944] Listening to port: \\\\?\\pipe\\fire_emu_f2f8216fa3d0c071"}}
[debug] [2024-01-30T12:05:52.743Z] [worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: IDLE"}}
[debug] [2024-01-30T12:05:52.744Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:05:52.746Z] [worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:43 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:43:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:33:5 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:33:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:33:5\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:05:52.797Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:05:47.730Z"],"workRunningCount":1}
[debug] [2024-01-30T12:05:52.797Z] [worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: exited"}}
[debug] [2024-01-30T12:05:52.798Z] [worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e0a67bb5-be70-4306-b4e1-b0229364e4b5]: FINISHED"}}
[debug] [2024-01-30T12:05:52.857Z] [worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: IDLE"}}
[debug] [2024-01-30T12:05:52.857Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:05:52.857Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:05:52.860Z] [worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:43 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:43:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:43:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:33:5 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:33:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:33:5\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:05:52.912Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:05:52.912Z] [worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: exited"}}
[debug] [2024-01-30T12:05:52.912Z] [worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c11b1d4b-33ef-43cc-a9b2-63192af17f23]: FINISHED"}}
[debug] [2024-01-30T12:06:12.731Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:06:13.734Z] Validating nodejs source
[debug] [2024-01-30T12:06:17.530Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:06:17.530Z] Building nodejs source
[debug] [2024-01-30T12:06:17.530Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:06:17.533Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:06:17.553Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8424

[debug] [2024-01-30T12:06:18.492Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T12:07:53.209Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:07:53.209Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:07:53.209Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:07:53.209Z"],"workRunningCount":1}
[debug] [2024-01-30T12:07:53.210Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:07:53.215Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:07:53.216Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:07:53.216Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:07:53.231Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:07:53.231Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:07:56.618Z] [runtime-status] [10504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:56.621Z] [runtime-status] [10504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:56.621Z] [runtime-status] [10504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:07:56.623Z] [runtime-status] [10504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:57.052Z] [runtime-status] [10504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:07:57.053Z] [runtime-status] [10504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:07:57.054Z] [runtime-status] [10504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:57.056Z] [runtime-status] [10504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:57.061Z] [runtime-status] [10504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:07:57.062Z] [runtime-status] [10504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:07:57.482Z] [runtime-status] [10504] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:07:57.483Z] [runtime-status] [10504] Listening to port: \\?\pipe\fire_emu_3413ffa3cdfae8d7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10504] Listening to port: \\\\?\\pipe\\fire_emu_3413ffa3cdfae8d7"}}
[debug] [2024-01-30T12:07:57.594Z] [worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: IDLE"}}
[debug] [2024-01-30T12:07:57.595Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:07:57.597Z] [worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:07:57.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:07:57.652Z] [worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: exited"}}
[debug] [2024-01-30T12:07:57.653Z] [worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a9ea9ad8-d89e-4549-90c9-7042ef2771c6]: FINISHED"}}
[debug] [2024-01-30T12:11:54.173Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.173Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:11:54.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.173Z"],"workRunningCount":1}
[debug] [2024-01-30T12:11:54.173Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:11:54.178Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:11:54.178Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:11:54.178Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:11:54.198Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:11:54.198Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:11:54.200Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.200Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.173Z"],"workRunningCount":1}
[debug] [2024-01-30T12:11:54.200Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.173Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.200Z"],"workRunningCount":2}
[debug] [2024-01-30T12:11:54.201Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:11:54.206Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:11:54.206Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:11:54.222Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:11:54.222Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:11:59.951Z] [runtime-status] [2584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:11:59.957Z] [runtime-status] [2584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:11:59.959Z] [runtime-status] [2584] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:11:59.961Z] [runtime-status] [2584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.803Z] [runtime-status] [14040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.810Z] [runtime-status] [14040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.811Z] [runtime-status] [14040] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:12:00.814Z] [runtime-status] [14040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.969Z] [runtime-status] [2584] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:12:00.969Z] [runtime-status] [2584] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:12:00.971Z] [runtime-status] [2584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.974Z] [runtime-status] [2584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.981Z] [runtime-status] [2584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:00.981Z] [runtime-status] [2584] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:12:01.565Z] [runtime-status] [14040] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:12:01.566Z] [runtime-status] [14040] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:12:01.568Z] [runtime-status] [14040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:01.575Z] [runtime-status] [14040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:01.579Z] [runtime-status] [14040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:12:01.579Z] [runtime-status] [14040] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:12:01.591Z] [runtime-status] [2584] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:12:01.593Z] [runtime-status] [2584] Listening to port: \\?\pipe\fire_emu_125d04392681bbea {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2584] Listening to port: \\\\?\\pipe\\fire_emu_125d04392681bbea"}}
[debug] [2024-01-30T12:12:01.609Z] [worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: IDLE"}}
[debug] [2024-01-30T12:12:01.609Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:12:01.611Z] [worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:12:01.670Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:11:54.173Z"],"workRunningCount":1}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[debug] [2024-01-30T12:12:01.687Z] [worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: exited"}}
[debug] [2024-01-30T12:12:01.687Z] [worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7229020-35de-407d-ba57-689968f46dfc]: FINISHED"}}
[debug] [2024-01-30T12:12:02.214Z] [runtime-status] [14040] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:12:02.215Z] [runtime-status] [14040] Listening to port: \\?\pipe\fire_emu_5c2012414f0866c1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14040] Listening to port: \\\\?\\pipe\\fire_emu_5c2012414f0866c1"}}
[debug] [2024-01-30T12:12:02.300Z] [worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: IDLE"}}
[debug] [2024-01-30T12:12:02.301Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:12:02.301Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:12:02.304Z] [worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:12:02.362Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:12:02.363Z] [worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: exited"}}
[debug] [2024-01-30T12:12:02.363Z] [worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-81008ebd-62de-4cde-ab09-074a13296010]: FINISHED"}}
[debug] [2024-01-30T12:16:30.476Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:16:31.491Z] Validating nodejs source
[debug] [2024-01-30T12:16:35.667Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:16:35.667Z] Building nodejs source
[debug] [2024-01-30T12:16:35.667Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:16:35.671Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:16:35.689Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8225

[debug] [2024-01-30T12:16:36.713Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T12:17:16.672Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api-2024-01-30T12:17:16.672Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:16.673Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api-2024-01-30T12:17:16.672Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:16.673Z] Accepted request GET /project-94a17/us-central1/api --> us-central1-api
[debug] [2024-01-30T12:17:16.679Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:17:16.679Z] [functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api, mapping to path=/"}}
[debug] [2024-01-30T12:17:16.679Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:17:16.697Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:17:16.697Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:17:19.094Z] [runtime-status] [18260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.097Z] [runtime-status] [18260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.098Z] [runtime-status] [18260] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:17:19.099Z] [runtime-status] [18260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.573Z] [runtime-status] [18260] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:17:19.574Z] [runtime-status] [18260] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:19.575Z] [runtime-status] [18260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.577Z] [runtime-status] [18260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.581Z] [runtime-status] [18260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:19.581Z] [runtime-status] [18260] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:19.936Z] [runtime-status] [18260] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:17:19.937Z] [runtime-status] [18260] Listening to port: \\?\pipe\fire_emu_2548338289611020 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18260] Listening to port: \\\\?\\pipe\\fire_emu_2548338289611020"}}
[debug] [2024-01-30T12:17:19.989Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: IDLE"}}
[debug] [2024-01-30T12:17:19.990Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:17:19.992Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: BUSY"}}
[debug] [2024-01-30T12:17:20.004Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 13.0892ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 13.0892ms"}}
[debug] [2024-01-30T12:17:20.007Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: IDLE"}}
[debug] [2024-01-30T12:17:20.007Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-01-30T12:17:20.007Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-01-30T12:17:20.007Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:20.208Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2024-01-30T12:17:26.702Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.702Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:26.709Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.702Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:26.710Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:17:26.714Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:17:26.714Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:17:26.714Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:17:26.716Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: BUSY"}}
[debug] [2024-01-30T12:17:26.727Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.727Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.702Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:26.728Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.702Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.727Z"],"workRunningCount":2}
[debug] [2024-01-30T12:17:26.728Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:17:26.732Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:17:26.732Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:17:26.746Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:17:26.746Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:17:26.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:26.727Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:26.866Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: exited"}}
[debug] [2024-01-30T12:17:26.866Z] [worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e110410-9fb1-4af3-b3f3-837d439c2c24]: FINISHED"}}
[debug] [2024-01-30T12:17:30.973Z] [runtime-status] [4136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:30.976Z] [runtime-status] [4136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:30.978Z] [runtime-status] [4136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:17:30.980Z] [runtime-status] [4136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:31.910Z] [runtime-status] [4136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:17:31.911Z] [runtime-status] [4136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:31.913Z] [runtime-status] [4136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:31.916Z] [runtime-status] [4136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:31.921Z] [runtime-status] [4136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:31.922Z] [runtime-status] [4136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:32.480Z] [runtime-status] [4136] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:17:32.481Z] [runtime-status] [4136] Listening to port: \\?\pipe\fire_emu_d91bb132589b1d03 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4136] Listening to port: \\\\?\\pipe\\fire_emu_d91bb132589b1d03"}}
[debug] [2024-01-30T12:17:32.579Z] [worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: IDLE"}}
[debug] [2024-01-30T12:17:32.580Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:17:32.580Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:17:32.588Z] [worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:17:32.647Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:32.660Z] [worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: exited"}}
[debug] [2024-01-30T12:17:32.660Z] [worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85f98c43-1e2e-42ef-a8b5-600e5cf8c657]: FINISHED"}}
[debug] [2024-01-30T12:17:46.382Z] File C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-01-30T12:17:47.396Z] Validating nodejs source
[debug] [2024-01-30T12:17:54.041Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-30T12:17:54.041Z] Building nodejs source
[debug] [2024-01-30T12:17:54.042Z] Failed to find version of module node: reached end of search path C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-01-30T12:17:54.045Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-30T12:17:54.066Z] Found firebase-functions binary at 'C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-01-30T12:17:54.089Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.089Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:54.089Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.089Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:54.089Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:17:54.093Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:17:54.094Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:17:54.094Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:17:54.109Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:17:54.110Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:17:54.111Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.111Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.089Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:54.111Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.089Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.111Z"],"workRunningCount":2}
[debug] [2024-01-30T12:17:54.111Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:17:54.115Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:17:54.116Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:17:54.126Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:17:54.126Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] Serving at port 8850

[debug] [2024-01-30T12:17:55.886Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-01-30T12:17:57.386Z] [runtime-status] [13856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.389Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.390Z] [runtime-status] [13856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:17:57.391Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.428Z] [runtime-status] [18048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.431Z] [runtime-status] [18048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.432Z] [runtime-status] [18048] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:17:57.434Z] [runtime-status] [18048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.993Z] [runtime-status] [13856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:17:57.994Z] [runtime-status] [13856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:57.996Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:57.999Z] [runtime-status] [13856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:58.006Z] [runtime-status] [13856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:58.007Z] [runtime-status] [13856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:58.058Z] [runtime-status] [18048] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:17:58.058Z] [runtime-status] [18048] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:58.060Z] [runtime-status] [18048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:58.062Z] [runtime-status] [18048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:58.066Z] [runtime-status] [18048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:17:58.066Z] [runtime-status] [18048] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:17:58.420Z] [runtime-status] [13856] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:17:58.421Z] [runtime-status] [13856] Listening to port: \\?\pipe\fire_emu_ba9c8f24a70c33be {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13856] Listening to port: \\\\?\\pipe\\fire_emu_ba9c8f24a70c33be"}}
[debug] [2024-01-30T12:17:58.458Z] [worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: IDLE"}}
[debug] [2024-01-30T12:17:58.458Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:17:58.459Z] [worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[debug] [2024-01-30T12:17:58.511Z] [runtime-status] [18048] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:17:58.511Z] [runtime-status] [18048] Listening to port: \\?\pipe\fire_emu_8d2bd58d46dd6fef {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18048] Listening to port: \\\\?\\pipe\\fire_emu_8d2bd58d46dd6fef"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:17:58.514Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:17:54.111Z"],"workRunningCount":1}
[debug] [2024-01-30T12:17:58.515Z] [worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: exited"}}
[debug] [2024-01-30T12:17:58.515Z] [worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b066b80c-26a4-4d12-afe4-966f3a5f28ba]: FINISHED"}}
[debug] [2024-01-30T12:17:58.566Z] [worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: IDLE"}}
[debug] [2024-01-30T12:17:58.566Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:17:58.566Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:17:58.568Z] [worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:17:58.621Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:17:58.668Z] [worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: exited"}}
[debug] [2024-01-30T12:17:58.670Z] [worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b084f4ee-afa5-45f5-9baa-bffda80f8170]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-01-30T12:27:41.584Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.584Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:27:41.584Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.584Z"],"workRunningCount":1}
[debug] [2024-01-30T12:27:41.584Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:27:41.590Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:27:41.590Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:27:41.591Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:27:41.606Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:27:41.606Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:27:41.608Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.608Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.584Z"],"workRunningCount":1}
[debug] [2024-01-30T12:27:41.608Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.584Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.608Z"],"workRunningCount":2}
[debug] [2024-01-30T12:27:41.608Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:27:41.612Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:27:41.613Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:27:41.626Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:27:41.626Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:27:46.588Z] [runtime-status] [2076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:46.592Z] [runtime-status] [2076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:46.595Z] [runtime-status] [2076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:27:46.600Z] [runtime-status] [2076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:46.873Z] [runtime-status] [13020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:46.874Z] [runtime-status] [13020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:46.874Z] [runtime-status] [13020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:27:46.875Z] [runtime-status] [13020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.423Z] [runtime-status] [2076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:27:48.423Z] [runtime-status] [2076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:27:48.426Z] [runtime-status] [2076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.430Z] [runtime-status] [2076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.444Z] [runtime-status] [2076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.445Z] [runtime-status] [2076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:27:48.821Z] [runtime-status] [13020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:27:48.827Z] [runtime-status] [13020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:27:48.832Z] [runtime-status] [13020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.836Z] [runtime-status] [13020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.844Z] [runtime-status] [13020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:27:48.845Z] [runtime-status] [13020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:27:49.419Z] [runtime-status] [2076] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:27:49.421Z] [runtime-status] [2076] Listening to port: \\?\pipe\fire_emu_b1d9829d3c81d1bb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2076] Listening to port: \\\\?\\pipe\\fire_emu_b1d9829d3c81d1bb"}}
[debug] [2024-01-30T12:27:49.485Z] [worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: IDLE"}}
[debug] [2024-01-30T12:27:49.486Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:27:49.491Z] [worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:27:49.543Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:27:41.608Z"],"workRunningCount":1}
[debug] [2024-01-30T12:27:49.552Z] [worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: exited"}}
[debug] [2024-01-30T12:27:49.552Z] [worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b4d69e0a-8f80-45c2-9763-846af48d6d7e]: FINISHED"}}
[debug] [2024-01-30T12:27:49.721Z] [runtime-status] [13020] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:27:49.723Z] [runtime-status] [13020] Listening to port: \\?\pipe\fire_emu_776d79debccf36f6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13020] Listening to port: \\\\?\\pipe\\fire_emu_776d79debccf36f6"}}
[debug] [2024-01-30T12:27:49.818Z] [worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: IDLE"}}
[debug] [2024-01-30T12:27:49.818Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:27:49.818Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:27:49.820Z] [worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:27:49.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:27:49.891Z] [worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: exited"}}
[debug] [2024-01-30T12:27:49.891Z] [worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e50008be-513f-46c5-ba51-56e56267565f]: FINISHED"}}
[debug] [2024-01-30T12:45:12.279Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.279Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:45:12.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.279Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:12.280Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:45:12.286Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:45:12.286Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:45:12.287Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:45:12.299Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:45:12.300Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:45:12.302Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.302Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.279Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:12.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.279Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.302Z"],"workRunningCount":2}
[debug] [2024-01-30T12:45:12.302Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:45:12.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:45:12.306Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:45:12.354Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:45:12.354Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:45:17.765Z] [runtime-status] [12880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:17.770Z] [runtime-status] [9792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:17.773Z] [runtime-status] [12880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:17.777Z] [runtime-status] [9792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:17.778Z] [runtime-status] [12880] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:45:17.779Z] [runtime-status] [9792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:45:17.782Z] [runtime-status] [9792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:17.784Z] [runtime-status] [12880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:18.990Z] [runtime-status] [9792] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:45:18.990Z] [runtime-status] [9792] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:18.992Z] [runtime-status] [9792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:18.995Z] [runtime-status] [9792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:19.001Z] [runtime-status] [9792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:19.002Z] [runtime-status] [9792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:19.004Z] [runtime-status] [12880] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:45:19.004Z] [runtime-status] [12880] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:19.007Z] [runtime-status] [12880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:19.011Z] [runtime-status] [12880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:19.018Z] [runtime-status] [12880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:19.019Z] [runtime-status] [12880] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:20.054Z] [runtime-status] [12880] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:45:20.054Z] [runtime-status] [9792] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:45:20.055Z] [runtime-status] [12880] Listening to port: \\?\pipe\fire_emu_517eb5bfee64552a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12880] Listening to port: \\\\?\\pipe\\fire_emu_517eb5bfee64552a"}}
[debug] [2024-01-30T12:45:20.057Z] [runtime-status] [9792] Listening to port: \\?\pipe\fire_emu_e8cebe7f7bf310da {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9792] Listening to port: \\\\?\\pipe\\fire_emu_e8cebe7f7bf310da"}}
[debug] [2024-01-30T12:45:20.068Z] [worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: IDLE"}}
[debug] [2024-01-30T12:45:20.069Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:45:20.070Z] [worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:45:20.128Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:12.279Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:20.130Z] [worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: exited"}}
[debug] [2024-01-30T12:45:20.130Z] [worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20f4786f-833e-4c21-87ce-0a1b43720c4c]: FINISHED"}}
[debug] [2024-01-30T12:45:20.177Z] [worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: IDLE"}}
[debug] [2024-01-30T12:45:20.177Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:45:20.177Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:45:20.179Z] [worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:45:20.238Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:45:20.249Z] [worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: exited"}}
[debug] [2024-01-30T12:45:20.250Z] [worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-963a9878-e86c-4270-b68b-6a9ed852cc06]: FINISHED"}}
[debug] [2024-01-30T12:45:25.455Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.454Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:45:25.455Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.454Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:25.455Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:45:25.460Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:45:25.460Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:45:25.461Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-01-30T12:45:25.475Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:45:25.475Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-01-30T12:45:25.478Z] [work-queue] {"queuedWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.478Z"],"queueLength":1,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.454Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:25.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.454Z","/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.478Z"],"workRunningCount":2}
[debug] [2024-01-30T12:45:25.478Z] Accepted request POST /project-94a17/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2024-01-30T12:45:25.482Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-01-30T12:45:25.483Z] [functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/project-94a17/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2024-01-30T12:45:25.516Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-01-30T12:45:25.516Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-01-30T12:45:30.982Z] [runtime-status] [15248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:30.985Z] [runtime-status] [15248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:30.986Z] [runtime-status] [15248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:45:30.987Z] [runtime-status] [15248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.157Z] [runtime-status] [8004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.160Z] [runtime-status] [8004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.161Z] [runtime-status] [8004] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-01-30T12:45:31.163Z] [runtime-status] [8004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.587Z] [runtime-status] [15248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:45:31.587Z] [runtime-status] [15248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:31.589Z] [runtime-status] [15248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.591Z] [runtime-status] [15248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.597Z] [runtime-status] [15248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.597Z] [runtime-status] [15248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:31.751Z] [runtime-status] [8004] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-01-30T12:45:31.752Z] [runtime-status] [8004] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:31.760Z] [runtime-status] [8004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.764Z] [runtime-status] [8004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.770Z] [runtime-status] [8004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.6.0","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.6.0\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-01-30T12:45:31.770Z] [runtime-status] [8004] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.1","resolution":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.1\",\"resolution\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-01-30T12:45:32.092Z] [runtime-status] [15248] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:45:32.093Z] [runtime-status] [15248] Listening to port: \\?\pipe\fire_emu_7f600b2f45567177 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15248] Listening to port: \\\\?\\pipe\\fire_emu_7f600b2f45567177"}}
[debug] [2024-01-30T12:45:32.193Z] [worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: IDLE"}}
[debug] [2024-01-30T12:45:32.193Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:45:32.195Z] [worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:45:32.473Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/project-94a17/us-central1/api/payments/create-2024-01-30T12:45:25.454Z"],"workRunningCount":1}
[debug] [2024-01-30T12:45:32.474Z] [worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: exited"}}
[debug] [2024-01-30T12:45:32.474Z] [worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-597eb8f6-2b14-4772-9dd8-c5d8fc955f31]: FINISHED"}}
[debug] [2024-01-30T12:45:32.475Z] [runtime-status] [8004] Functions runtime initialized. {"cwd":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions","node_version":"20.11.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Vishal\\\\Desktop\\\\Project\\\\amazon-clone\\\\functions\",\"node_version\":\"20.11.0\"}"}}
[debug] [2024-01-30T12:45:32.475Z] [runtime-status] [8004] Listening to port: \\?\pipe\fire_emu_e0d8877ce2e7e764 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8004] Listening to port: \\\\?\\pipe\\fire_emu_e0d8877ce2e7e764"}}
[debug] [2024-01-30T12:45:32.476Z] [worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: IDLE"}}
[debug] [2024-01-30T12:45:32.477Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-01-30T12:45:32.477Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-01-30T12:45:32.479Z] [worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: BUSY"}}
[info] >  Payment Request Recieved BOOM!!! >>> 0 {"user":"Payment Request Recieved BOOM!!! >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! >>> 0"}}
[info] >  C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34 {"user":"C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\index.js:34:54 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\index.js:34:54\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Vishal\Desktop\Project\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Vishal\\Desktop\\Project\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.11.0 {"user":"Node.js v20.11.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.11.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-01-30T12:45:32.583Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-01-30T12:45:32.584Z] [worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: exited"}}
[debug] [2024-01-30T12:45:32.584Z] [worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf3596fb-1a1e-4e7f-8490-a190f8c2c867]: FINISHED"}}
